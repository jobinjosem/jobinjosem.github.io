{"categories":[{"title":"wsl","uri":"https://jobinjosem.github.io/categories/wsl/"}],"posts":[{"content":"In a previous post, I explained how to customize the bash prompt in WSL using kube-ps1. Turns out that kube-ps1 is a bit outdated and there are other cool tools available in the marketplace like oh-my-posh which is widely used among the community. In this post, I will explain how I personalized my PowerShell prompt using oh-my-posh.\nBelow are the steps I followed to personalize my Powershell prompt.\n  Install oh-my-posh.   Install-Module oh-my-posh -Scope CurrentUser -AllowPrerelease   Install a font that supports Powerline.   Download the Caskaydia Cove Nerd Font. Extract the zip file, select them all and right-click to install.\n Set the Caskaydia font on the settings of the windows terminal.   Navigate to Windows Terminal \u0026ndash;\u0026gt; Settings \u0026ndash;\u0026gt; Powershell \u0026ndash;\u0026gt; Appearance \u0026ndash;\u0026gt; Font face. Then choose CaskaydiaCove Nerd Font and save.\n Preview and set the theme.   We can preview all themes by running the Get-PoshThemes command and applying a theme of your choice using the Set-PoshPrompt \u0026lt;theme name\u0026gt; command. The theme will be applied on running the Set-PoshPrompt command but won\u0026rsquo;t persist beyond the current session.\n Override the theme settings   I had some requirements like showing my current Azure subscription name, the Kubernetes cluster I am connected to and the current time in the PowerShell prompt. So I decided to export the theme and tweak it as per my requirement. We can output the current theme to a json file which can be used to tweak and store as your custom theme.\nExport-PoshTheme -FilePath \u0026quot;c:\\theme\\mytheme.omp.json\u0026quot; -Format json  We can copy segments from here and modify the color, symbols, and style. The configuration I used is available here\n Apply the custom theme.   To apply the settings permanently, we can add the theme configuration to your Powershell profile.\nOpen PowerShell profile using code $PROFILE and add the below lines.\nImport-Module oh-my-posh Set-PoshPrompt -Theme \u0026quot;c:\\theme\\mytheme.omp.json\u0026quot;  The terminal must look like this if you are using the config file that I used.\n Add kubectx + kubens   This will help to switch between different kubernetes clusters and namespaces, We need to download the kubectx, kubens and fuzzyfinder utilities and add the executables to the $PATH. Then set alias by adding below lines in $PROFILE\nSet-Alias -Name x -Value '\u0026lt;PATH\u0026gt;\\kubectx.exe' Set-Alias -Name n -Value '\u0026lt;PATH\u0026gt;\\kubens.exe'  We can easily change your Kubernetes cluster by typing x and press enter. A list of available Kubernetes clusters in your kubecfg will be shown.\nSimilarly pressing n will list all the namespaces in the selected cluster and you can select from the list.\nThanks for reading. Please do share your feedback.ðŸ˜Š\n","id":0,"section":"posts","summary":"In a previous post, I explained how to customize the bash prompt in WSL using kube-ps1. Turns out that kube-ps1 is a bit outdated and there are other cool tools available in the marketplace like oh-my-posh which is widely used among the community. In this post, I will explain how I personalized my PowerShell prompt using oh-my-posh.\nBelow are the steps I followed to personalize my Powershell prompt.\n  Install oh-my-posh.","tags":["wsl","kubernetes","terminal"],"title":"Customize your powershell using oh-my-posh","uri":"https://jobinjosem.github.io/2021/12/oh-my-posh-powershell/","year":"2021"},{"content":"There are thousands of articles available on the internet about how you can customize your bash prompt in different ways. In this post, I will explain how to personalize your widows terminal bash prompt in WSL2 from a DevOps engineer viewpoint.\nOften we have to interact with Cloud resources in Azure and Kubernetes using different az cli and kubectl. How about showing the cluster you are connected to, the namespace you are in, the current Azure subscription, and the git repository you are working in and its current branch all in one place, awesome right? Let me explain how I did this.\nThere are some prerequisites you have to install to get this working.\n  Install kubectl + git   curl -LO \u0026quot;https://dl.k8s.io/release/$(curl -L -s https://dl.k8s.io/release/stable.txt)/bin/linux/amd64/kubectl\u0026quot; sudo install -o root -g root -m 0755 kubectl /usr/local/bin/kubectl sudo apt-get install git   Copy kube-ps1.sh from kube-ps1   git clone https://github.com/jonmosco/kube-ps1 mv kube-ps1/kube-ps1.sh ~ rm -rf kube-ps1   Obtain kubectx + kubens from kubectx   sudo git clone https://github.com/ahmetb/kubectx /opt/kubectx sudo mv /opt/kubectx/kubectx /usr/local/bin/kubectx sudo mv /opt/kubectx/kubens /usr/local/bin/kubens rm -rf /opt/kubectx   Install fzf   git clone --depth 1 https://github.com/junegunn/fzf.git ~/.fzf ~/.fzf/install   Install jq   sudo apt update sudo apt install -y jq   Edit your [~/.bashrc] file   Add the below lines to your .bashrc file.\nsource ~/kube-ps1.sh alias n='kubens' alias x='kubectx' PS1='$(kube_ps1)'\u0026quot;\\[\\e[33m\\] \\D{%H:%M} \\[\\033[95m\\][\\$(az account show 2\u0026gt;/dev/null | jq -r .name)] \\[\\e[32m\\]\\W \\[\\033[33m\\][\\$(git symbolic-ref --short HEAD 2\u0026gt;/dev/null)] \\[\\e[00m\\]$ \u0026quot;   Relaunch your interactive shell instane   source ~/.bashrc  You can easily change your Kubernetes cluster by typing x and press enter. A list of available Kubernetes clusters in your kubecfg will be shown.\nSimilarly pressing n will list all the namespaces in the selected cluster and you can select from the list.\nYou are done. The terminal must look like this!!\nThank You for reading. Please do share your feedback.ðŸ˜Š\n","id":1,"section":"posts","summary":"There are thousands of articles available on the internet about how you can customize your bash prompt in different ways. In this post, I will explain how to personalize your widows terminal bash prompt in WSL2 from a DevOps engineer viewpoint.\nOften we have to interact with Cloud resources in Azure and Kubernetes using different az cli and kubectl. How about showing the cluster you are connected to, the namespace you are in, the current Azure subscription, and the git repository you are working in and its current branch all in one place, awesome right?","tags":["wsl","kubernetes","terminal"],"title":"Customize your Windows Terminal BASH in WSL2","uri":"https://jobinjosem.github.io/2021/08/wsl-customization/","year":"2021"}],"tags":[{"title":"index","uri":"https://jobinjosem.github.io/tags/index/"},{"title":"kubernetes","uri":"https://jobinjosem.github.io/tags/kubernetes/"},{"title":"terminal","uri":"https://jobinjosem.github.io/tags/terminal/"},{"title":"wsl","uri":"https://jobinjosem.github.io/tags/wsl/"}]}